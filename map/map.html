<link rel="import" href="../components/polymer/polymer.html">
<link rel="import" href="../components/google-map/google-map.html">
<link rel="import" href="../components/core-icon-button/core-icon-button.html">
<link rel="import" href="../components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../components/paper-fab/paper-fab.html">
<link href="path/to/core-icons/core-icons.html" rel="import">
<link rel="stylesheet" type="text/css" href="../style.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<polymer-element name="custom-googlemap" attributes="search">
    <template>
		<google-map latitude="-37.8140000" longitude="144.9633200" zoom="15">
			<google-map-marker title="Cookie" id="bar" latitude="-37.812018" longitude="144.965214">
				<img src="cookie.jpg">
				<h2 class="name">Cookie</h2>
				<p>252 Swanston Street, Melbourne VIC 3000</p>
			</google-map-marker>
			<google-map-marker title="Virgin Active Bourke Street" id="gym" latitude="-37.812406" longitude="144.969083">
				<img src="virginactive.jpg">
				<h2 class="name">Virgin Active</h2>
				<p>138 Bourke Street, Melbourne VIC 3000</p>
			</google-map-marker>
			<google-map-marker title="Ponyfish Island" id="bar" latitude="-37.819886" longitude="144.964984">
				<img src="ponyfishisland.jpg">
				<h2 class="name">Ponyfish Island</h2>
				<p>Pedestrian Bridge, Melbourne VIC 3006</p>
			</google-map-marker>
			<google-map-marker title="Transport Hotel" id="bar" latitude="-37.818573" longitude="144.968209">
				<img src="transporthotel.jpg">
				<h2 class="name">Transport Hotel</h2>
				<p>2 Swanston Street, Melbourne VIC 3000</p>
			</google-map-marker>
			<google-map-marker title="Beer DeLuxe Fed Square" id="bar" latitude="-37.817532" longitude="144.968866">
				<img src="beerdeluxe.jpg">
				<h2 class="name">Beer DeLuxe Fed Square</h2>
				<p>Federation Square Flinders Street, Melbourne VIC 3000</p>
			</google-map-marker>
			<google-map-marker title="Fitness First QV Platinum" id="gym" latitude="-37.809880" longitude="144.966669">
				<img src="fitnessfirst.png">
				<h2 class="name">Fitness First QV Platinum</h2>
				<p>Cnr Lonsdale and Russell Street, QV, Melbourne VIC 3000</p>
			</google-map-marker>
			<google-map-marker title="Grill'd Degraves Street" id="eatery" latitude="-37.817449" longitude="144.965757">
				<img src="grilld.jpg">
				<h2 class="name">Grill'd</h2>
				<p>15 Degraves Street, Melbourne VIC 3000</p>
			</google-map-marker>
			<google-map-marker title="Crazy Wing" id="eatery" latitude="-37.812318" longitude="144.967549">
				<img src="crazywing.jpg">
				<h2 class="name">Crazy Wing</h2>
				<p>177 Russell Street, Melbourne VIC 3000</p>
			</google-map-marker>
			<google-map-marker title="Touché Hombre" id="eatery" latitude="-37.811505" longitude="144.965445">
				<img src="touchehombre.jpg">
				<h2 class="name">Touché Hombre</h2>
				<p>233 Lonsdale Street, Melbourne VIC 3000</p>
			</google-map-marker>
			<google-map-marker title="Gaylord Indian Restaurant" id="eatery" latitude="-37.812091" longitude="144.965710">
				<img src="gaylordindian.jpg">
				<h2 class="name">Gaylord Indian Restaurant</h2>
				<p>4 Tattersalls Lane, Melbourne VIC 3000</p>
			</google-map-marker>
			<google-map-marker id="me" title="My Location" latitude="-37.814554" longitude="144.969561" icon="http://www.google.com/intl/en_us/mapfiles/ms/icons/blue-dot.png"></google-map-marker>
		</google-map>
	
		<core-icon-button
			icon="send"
			on-tap="{{selectCharger}}" raised>  Charge here!
		</core-icon-button>

		<paper-fab icon="search" id="searchfab"></paper-fab>

	</template>
	<script>
        Polymer({
        	selectCharger: function(event, detail, sender) {
				this.fire('select-charger');
		    }
        });

        var x = document.getElementById("me");

		window.onload = function() {
		    if (navigator.geolocation) {
		        navigator.geolocation.getCurrentPosition(setPosition);
		    }
		}

		function setPosition(position) {
		    x.setAttribute("latitude", position.coords.latitude); 
		    x.setAttribute("longitude", position.coords.longitude);
		    console.log(position.coords.latitude);
		    console.log(position.coords.longitude);
		}

		function filter(field) {
			console.log(field);
			var marker = document.getElementById(field);
			var att = document.createAttribute("hidden");
			marker.setAttributeNode(att);
		}

    </script>
</polymer-element>